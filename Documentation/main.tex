\documentclass[11pt,a4paper,oldfontcommands]{memoir}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{microtype}
\usepackage[dvips]{graphicx}
\usepackage{xcolor}
\usepackage{times}

\usepackage{listings}
\usepackage{color}
\definecolor{lightgray}{rgb}{.9,.9,.9}
\definecolor{darkgray}{rgb}{.4,.4,.4}
\definecolor{purple}{rgb}{0.65, 0.12, 0.82}

\lstdefinelanguage{JavaScript}{
  keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
  keywordstyle=\color{blue}\bfseries,
  ndkeywords={class, export, boolean, throw, implements, import, this},
  ndkeywordstyle=\color{darkgray}\bfseries,
  identifierstyle=\color{black},
  sensitive=false,
  comment=[l]{//},
  morecomment=[s]{/*}{*/},
  commentstyle=\color{purple}\ttfamily,
  stringstyle=\color{red}\ttfamily,
  morestring=[b]',
  morestring=[b]"
}

\lstset{
   language=JavaScript,
   backgroundcolor=\color{lightgray},
   extendedchars=true,
   basicstyle=\footnotesize\ttfamily,
   showstringspaces=false,
   showspaces=false,
   numbers=left,
   numberstyle=\footnotesize,
   numbersep=9pt,
   tabsize=2,
   breaklines=true,
   showtabs=false,
   captionpos=b
}

\usepackage[
breaklinks=true,colorlinks=true,
%linkcolor=blue,urlcolor=blue,citecolor=blue,% PDF VIEW
linkcolor=black,urlcolor=black,citecolor=black,% PRINT
bookmarks=true,bookmarksopenlevel=2]{hyperref}

\usepackage{geometry}
\usepackage{courier}
% PDF VIEW
% \geometry{total={210mm,297mm},
% left=25mm,right=25mm,%
% bindingoffset=0mm, top=25mm,bottom=25mm}
% PRINT
\geometry{total={210mm,297mm},
left=20mm,right=20mm,
bindingoffset=10mm, top=25mm,bottom=25mm}

\OnehalfSpacing
%\linespread{1.3}

%%% CHAPTER'S STYLE
\chapterstyle{bianchi}
%\chapterstyle{ger}
%\chapterstyle{madsen}
%\chapterstyle{ell}
%%% STYLE OF SECTIONS, SUBSECTIONS, AND SUBSUBSECTIONS
\setsecheadstyle{\Large\bfseries\sffamily\raggedright}
\setsubsecheadstyle{\large\bfseries\sffamily\raggedright}
\setsubsubsecheadstyle{\bfseries\sffamily\raggedright}


%%% STYLE OF PAGES NUMBERING
%\pagestyle{companion}\nouppercaseheads 
%\pagestyle{headings}
%\pagestyle{Ruled}
\pagestyle{plain}
\makepagestyle{plain}
\makeevenfoot{plain}{\thepage}{}{}
\makeoddfoot{plain}{}{}{\thepage}
\makeevenhead{plain}{}{}{}
\makeoddhead{plain}{}{}{}


\maxsecnumdepth{subsection} % chapters, sections, and subsections are numbered
\maxtocdepth{subsection} % chapters, sections, and subsections are in the Table of Contents

\begin{document}

%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%
%   TITLEPAGE
%
%   due to variety of titlepage schemes it is probably better to make titlepage manually
%
%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%
\thispagestyle{empty}

{%%%

\centering
\title{ \normalsize \textsc{}\\ [2.0cm]
		\hline \vspace{10pt} \\
		\huge \textbf{CustomJS primer for Calculatorians\textsuperscript{\textregistered}} \vspace{5pt}
		\textbf{\hline}{\hline} \\ [0.5cm]
		\large \vspace{200pt}\\}		}
		

%\date{\today}

\author{{\textit{Written by:}}\\
        \LARGE Alvaro Diez \\
		Not an Astrophysicist\texttrademark \\ 
		\LARGE Dominik Czernia \\
		Mr. CustomJS Wizzard himself \\ \\
	%	\textbf{Proofread by:}\\
	%	\LARGE Jack Bowater\\ 
	%	"It's $you're$ not $your$"\\ 
	\\ \\ \\ \\
		\LARGE {\textbf{Omni Calculator Project}} \vspace{-50pt}
} 

\maketitle
%%%
\noalign
\clearpage

\tableofcontents

\clearpage

%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%
%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%---%%%

\chapter{What is this? Who am I? What is the meaning of life, the universe and everything?[Preface]}

    \label{preface}

    Let's start answering this questions in reverse order. Last question's answer is \textbf{42}. Regarding the one before it, I can't really answer for you, it takes a lifetime to discover. And for the first question's answer, I have bad news: It's long\footnote{That's what she said}

    This \textit{CustomJS primer} is meant as a quick-reference, or star-guide or user-manual for Calculatorians like you to (first) get started using Javascript in their calculators and (later) solve quick and simple doubts that you might have while using that knowledge.

This is NOT a formal, technical, precise, dense, boring, all-encompassing\footnote{Thanks for the word Jack} Javascript book or a written lecture on programming. This document aims to provide understandable, applicable knowledge and will sacrifice technicality and precision if needed. 
If you have any programming experience you will find the first sections of the second chapter to be extremely basic and you might prefer to start reading from the chapter \ref{chap:omni}. If you already know how to program in Javascript, you might find most of it useless and some even probably offensive (if your style choices differ from ours) so we recommend to just read those sections that relate to the application of such knowledge to making OmniCalculators such as chapters \href{chap:omni} and \ref{chap:coding}

Before we move on with the actual content let's faff around just a bit more and take a look at the different parts of this document and what to expect from them:

\iffalse
\begin{itemize}
    \item Chapter 1.- \textbf{Before you start} 
        \subitem Section 1.1 - A brief description of that is CustomJS what it does and how and when to use it
        \subitem Section 1.2 - Quick overview of the functions specific to omni that don't exist in regular JS
        \subitem Section 1.3 - A \textit{Gepe-complete}\footnote{\textit{Gepe-complete} Refers to an item that's been deemed complete by Alvaro Diez} start guide to get you started in programming from scratch, plus some additions relevant to CustomJS at Omni
        \subitem Section 1.4 - A collection of \textit{rules} that we have in place at Omni and their reasons to exist
    \item Chapter 2.- \textbf{Okay so you are already coding...}
        \subitem Section 2.1 - Basic and advance use cases in Custom JS with strong focus on Omni functions
        \subitem Section 2.2 - How to prevent errors and what to do when they happen
        \subitem Section 2.3 - Style guide as agreed by most of Omni Calculatorians. Follow or be bullied.
\end{itemize}
\fi

This document is divided into 3 different chapters of increasing length. The first chapter proper (\ref{chap:b4}) is an overview of why and when to use CustomJS additions in your calculator and when it is not needed. This chapter also includes a short list of "best practices" regarding the technical side of CustomJS and an explanation of why they are like they are. To finish it off and to properly get you prepared for the second chapter, there is an overview of the most basic principles of programming with specific focus on examples in Javascript. Once finished with it, you should be able to understand the Javascript code that will be presented in the following chapters as well as understand most of the Javascript code you will ever find.

The second chapter is a rundown of all the custom functions available at Omni. This is a collection of calculator-specific functions that let you modify the behaviour of each component of the calculator as well as add new functionalities. The aim of this section is to replace the old \href{https://gist.github.com/trojanowski/1fd347f2b0cba5bd7ce3deb5fd3566af}{gist} that was in Polish. Feel free to use this section as your main reference to understand, use and solve any basic problems regarding Omni's own functions. 

The third and last chapter is focused on applying the previous knowledge in an effective and efficient manner. It is composed of a collection of common uses, typical combinations and behaviours implemented in the calculators we've made so far an includes a list of reference calculators where you can check these principles being applied (list on Trello). Then we included a collections of tips and tricks to prevent, diagnose and fix problems as well as a list of typical error behaviours and typical solutions. To finish it off, the last section of this chapter is devoted to setting some guidelines to make the process of creating, fixing, editing and improving customJS calculators as simple and painless as possible. Most of these guidelines have been set by the group of calculatorians and might deviate from the traditional "programming best practices" so, yes, they might not be the most generalisable rules, but just follow them and don't hate. 



\chapter{Before you start coding}
    \label{chap:b4}
So now it is time to jump into the actual content. We will start by taking a look at what is customJS and what we use it for, so that you will know if it fits your purpose or not. We will also help you make such decision by presenting you with clear scenarios where customJS is not needed, could be needed and is compulsory to use. 

After learning about customJS we will have a quick crash-course on programming so that no matter your starting knowledge you will be able to write and understand javascript code and make your calculator truly \textit{Omni-Awesome}\textsuperscript{\textregistered}. If you already have experience in programming or have taken any kind of programming course, this section (\ref{sec:fundamentals}) will likely seem redundant and won't teach you much, so feel free to skip it and move on to the next chatper: Chapter \ref{chap:omni}, were we dive into the custom functions that we have available at Omni but are not part of regular javascript.
    
    \section{Who is this CustomJS guy?\small[An introduction to customJS]}
        \label{sec:whatIs}
    Let's start with the basics, CustomJS is one of the many options available for calculatorians when making a calculator. This option consists on a text window where you can write your own (Custom) javascript (JS) code to be executed when the calculator is loaded and during subsequent calculations. 
    As a calculatorian you can chose to run plain Javascript code (though it's functionality is capped) or use some of the omni functions that are at your disposal and help you interact with the elements of the calculator as well as to run commands and different moments in the loading-calculating process. We will see more about this functions in the next chapter (\ref{chap:omni}) but first we need to decide when it is required to use CustomJS in a calculator, when it is optional and when it is not a good idea.
    
        \input{doYouNeed.tex} %DONE
    
    \section{Programming vs witchcraft spells \small[Fundamentals of coding]}    
        \label{sec:fundamentals}
    So you have evaluated the requirements of your calculator and you want to use customJS to make the best calculator ever created (or at least something cool). If you already know how a program works or have coded in any language before, you just got yourself a free upgrade to Section \ref{sec:suggestions}. 
    In this section we will briefly go over the very basics of programming with focus on javascript. We will start from the very beginning and will teach you in simple terms the most important things you have to know to understand and write customJS. It is not intended as a full course or any kind of rigurous learning material, so feel free to take an online course or get yourself a decent javascript book if you really want to become a programmer.
    For the rest of you, Calculatorians, let's get started with the basics of programming.
        \input{fundamentals.tex}
    
    \section{A short list of strong suggestions \small{[Do's and Don'ts ]}}
        \label{sec:suggestions}
        \input{omniRecommends.tex}

\chapter{CustomJS at Omni \small{[Built-in functions]}}
    \label{chap:omni}
    
    \section{onInit}
    \label{sec:onInit}
    \input{omniInit.tex}
    
    \section{onResult}
    \label{sec:onResult}
    \input{omniResult.tex}

\chapter{Okay, so you are already coding...}
    \label{chap:coding}

    \section{What can you do \small{[typical additions in customJS]}}
    \label{sec:whatDo}
    \input{whatDo.tex}
    
    \section{Sh*t! Why is this not working! \small{[debugging for normies]}}
    \label{sec:debug}
    \input{debug.tex}
    
    \section{Do yourself a favor, do your colleagues a favor \small{[Style guide]}}
    \label{sec:style}
    \input{style.tex}
    
    \section{The artform of asking for help and not being a total dick. \small{[Give help, get help]}}
    \label{sec:help}
    \input{help.tex}
    

\section{Okay, but how can I...? \small{[additional resource]}}


\appendix

\chapter{To infinity and beyond!}
\section{A collection of helpful resources}
\input{resources.tex}

\bibliographystyle{unsrt}
\bibliography{sample}

\end{document}

